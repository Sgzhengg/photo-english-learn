# 拍照学英语 App - 前端测试方案

## 测试环境准备

### 测试账号
- **管理员账号**: admin / admin123
- **测试账号**: testuser / testpass123（需要先注册）

### 测试设备/浏览器
- Chrome DevTools（移动端模拟）
- 真机测试（iOS / Android 可选）
- 网络环境：WiFi / 4G / 3G（测试弱网场景）

### 测试工具
- Chrome DevTools（Network、Application、Lighthouse）
- Postman / curl（API 测试）

---

## 阶段一：身份验证与持久化测试

### 测试用例 1.1：账号注册功能

**前置条件**: 用户未登录

**测试步骤**:
1. 打开应用，进入登录页
2. 点击"立即注册"链接/按钮
3. 进入注册页面

**测试数据**:
```
用户名: testuser2026
邮箱: test@example.com
密码: Test123!@#
确认密码: Test123!@#
```

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 表单验证 | 密码少于6位时显示错误提示 | | ☐ |
| 2 | 两次密码不一致 | 显示"密码不一致"错误 | | ☐ |
| 3 | 注册成功 | 自动跳转到首页 | | ☐ |
| 4 | 欢迎消息 | 首页显示"欢迎，testuser2026" | | ☐ |
| 5 | Token 存储 | localStorage 中有 access_token | | ☐ |

**异常测试**:
```
场景 1: 用户名已存在
输入: admin / admin123
预期: 显示"用户名已存在"错误

场景 2: 邮箱格式错误
输入: testuser@ (不完整邮箱)
预期: 显示"邮箱格式错误"

场景 3: 网络断开
操作: 断开网络后点击注册
预期: 显示"网络连接失败"错误
```

---

### 测试用例 1.2：账号登录功能

**前置条件**: 用户已注册

**测试步骤**:
1. 退出登录（如果已登录）
2. 进入登录页
3. 输入用户名和密码

**测试数据**:
```
正确账号: admin / admin123
错误账号: admin / wrongpassword
```

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 密码可见性切换 | 点击眼睛图标切换密码显示/隐藏 | | ☐ |
| 2 | 登录成功 | 跳转到首页 | | ☐ |
| 3 | 登录失败 | 显示"用户名或密码错误" | | ☐ |
| 4 | 空字段验证 | 空用户名/密码时显示错误提示 | | ☐ |
| 5 | Token 存储 | localStorage 存储 access_token | | ☐ |

**技术验证**（Chrome DevTools）:
```javascript
// 打开 Console 执行
console.log(localStorage.getItem('access_token'));
// 预期输出: "eyJ..." (JWT Token)
```

---

### 测试用例 1.3：持久化登录（自动登录）

**前置条件**: 用户已登录

**测试步骤**:
1. 登录成功后，刷新浏览器页面
2. 或关闭标签页后重新打开

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 刷新后保持登录 | 不需要重新登录，直接进入首页 | | ☐ |
| 2 | Token 有效性 | 调用 API 时使用存储的 Token | | ☐ |
| 3 | 自动续期 | last_activity 时间戳更新 | | ☐ |

**技术验证**:
```javascript
// 1. 检查 Token
localStorage.getItem('access_token') !== null

// 2. 检查最后活动时间
localStorage.getItem('last_activity') !== null

// 3. 验证 Token 有效性（调用 API）
fetch('https://photo-english-learn-gateway.zeabur.app/auth/me', {
  headers: {'Authorization': `Bearer ${token}`}
})
.then(r => r.json())
.then(data => console.log('当前用户:', data.username))
```

---

### 测试用例 1.4：7天自动登出

**前置条件**: 用户已登录

**测试步骤**:
1. 打开 Chrome DevTools → Application → Local Storage
2. 修改 `last_activity` 为 8 天前的时间戳
3. 刷新页面
4. 尝试访问任何需要登录的页面

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | Token 过期检测 | 自动跳转到登录页 | | ☐ |
| 2 | 错误提示 | 显示"登录已过期，请重新登录" | | ☐ |
| 3 | 清除数据 | localStorage 被清空 | | ☐ |

**技术验证**:
```javascript
// 模拟 8 天前
const eightDaysAgo = Date.now() - 8 * 24 * 60 * 60 * 1000;
localStorage.setItem('last_activity', eightDaysAgo);

// 刷新后检查
// 预期: 重定向到 /login
```

---

### 测试用例 1.5：退出登录

**前置条件**: 用户已登录

**测试步骤**:
1. 进入"我的"页面
2. 点击"退出登录"按钮
3. 确认退出

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 确认对话框 | 显示"确定要退出登录吗？" | | ☐ |
| 2 | Token 清除 | localStorage 被清空 | | ☐ |
| 3 | 跳转登录页 | 退出后跳转到登录页 | | ☐ |
| 4 | API 调用失败 | 退出后调用任何 API 返回 401 | | ☐ |

---

## 阶段二：核心识物流程测试

### 测试用例 2.1：拍照功能

**前置条件**: 用户已登录

**测试步骤**:
1. 在首页点击"拍照学单词"大卡片
2. 进入扫描页

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 相机权限 | 请求相机权限（首次） | | ☐ |
| 2 | 快门按钮 | 中间显示圆形快门按钮 | | ☐ |
| 3 | 相册按钮 | 左侧显示相册图标 | | ☐ |
| 4 | 扫描线动画 | 显示扫描线动画 | | ☐ |
| 5 | 取消按钮 | 右上角显示关闭/返回按钮 | | ☐ |

---

### 测试用例 2.2：选择图片

**前置条件**: 在扫描页

**测试步骤**:
1. 点击左侧相册按钮
2. 选择一张测试图片（包含清晰物体）
3. 确认选择

**测试图片建议**:
- 包含单物体：杯子、手机、笔记本电脑
- 包含多物体：桌上有杯子和笔记本电脑
- 光线充足、主题明确

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 图片预览 | 显示选中的图片 | | ☐ |
| 2 | 图片大小 | 图片完整显示，不变形 | | ☐ |
| 3 | 重新选择 | 可以重新选择图片 | | ☐ |

---

### 测试用例 2.3：上传进度

**前置条件**: 已选择图片

**测试步骤**:
1. 点击"开始识别"按钮
2. 观察上传进度

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 进度条 | 显示上传进度条 | | ☐ |
| 2 | 百分比 | 显示上传百分比（0-100%） | | ☐ |
| 3 | 加载动画 | 显示 Loading 指示器 | | ☐ |
| 4 | 不可取消 | 上传中禁用其他操作 | | ☐ |

**技术验证**（Network 标签）:
```
观察请求:
POST https://vision-service.zeabur.app/vision/analyze
Content-Type: multipart/form-data

验证:
- Request Payload 包含 image 字段
- Request Headers 包含 Authorization: Bearer {token}
- Status: 200 OK
```

---

### 测试用例 2.4：识别结果展示

**前置条件**: 图片上传成功

**测试步骤**:
1. 等待 AI 分析完成
2. 进入识别结果页

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 场景描述 | 顶部显示中文场景解析 | | ☐ |
| 2 | 原始图片 | 显示上传的图片 | | ☐ |
| 3 | 物体列表 | 显示识别到的物体 | | ☐ |
| 4 | 英文名称 | 每个物体显示英文名 | | ☐ |
| 5 | 置信度 | 显示置信度百分比 | | ☐ |
| 6 | 物体数量 | 显示检测到多少个物体 | | ☐ |

**API 响应验证**:
```json
// 预期响应格式
{
  "scene_id": 123,
  "description": "这张照片里有笔记本电脑、杯子",
  "detected_objects": [
    {
      "object_name": "laptop",
      "english_word": "Laptop",
      "confidence": 0.95
    },
    {
      "object_name": "cup",
      "english_word": "Cup",
      "confidence": 0.88
    }
  ]
}
```

---

### 测试用例 2.5：识别结果交互

**前置条件**: 识别结果页已显示

**测试步骤**:
1. 点击物体列表中的喇叭图标
2. 点击"+"图标添加到生词本
3. 点击物体卡片任意位置

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 播放读音 | 点击喇叭图标播放英文发音 | | ☐ |
| 2 | 添加生词 | 点击"+"后显示"已添加"提示 | | ☐ |
| 3 | 跳转详情 | 点击卡片跳转到单词详情页 | | ☐ |
| 4 | 路由传参 | URL 包含 word 参数 | | ☐ |

---

### 测试用例 2.6：重新拍照

**前置条件**: 识别结果页

**测试步骤**:
1. 点击"重新拍照"按钮
2. 返回扫描页

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 页面跳转 | 返回到扫描页 | | ☐ |
| 2 | 清空数据 | 清空上次的识别结果 | | ☐ |
| 3 | 重新上传 | 可以选择新的图片 | | ☐ |

---

## 阶段三：单词深度学习测试

### 测试用例 3.1：单词详情页基础信息

**前置条件**: 用户已登录，通过识别结果跳转或直接查询单词

**测试步骤**:
1. 进入单词详情页（例如：laptop）
2. 检查页面元素

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 英文单词 | 大字体显示 "Laptop" | | ☐ |
| 2 | 中文释义 | 显示"笔记本电脑" | | ☐ |
| 3 | 美式音标 | 显示 "/ˈlæptɑːp/" | | ☐ |
| 4 | 英式音标 | 显示 "/ˈlæptɒp/" | | ☐ |
| 5 | 例句（英文） | 显示英文例句 | | ☐ |
| 6 | 例句翻译 | 显示中文翻译 | | ☐ |

---

### 测试用例 3.2：发音功能

**前置条件**: 单词详情页

**测试步骤**:
1. 点击 "US" 按钮（美式发音）
2. 点击 "UK" 按钮（英式发音）

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 美式发音 | 点击播放美式发音 | | ☐ |
| 2 | 英式发音 | 点击播放英式发音 | | ☐ |
| 3 | 音频质量 | 发音清晰无杂音 | | ☐ |
| 4 | 播放状态 | 播放时显示动画 | | ☐ |

**技术验证**（Network 标签）:
```
观察请求:
POST https://tts-service.zeabur.app/tts/synthesize
Request Body:
{
  "text": "laptop",
  "voice": "us-en" // 或 "uk-en"
}

验证:
- Status: 200 OK
- Response: {"audio_url": "https://..."}
- 音频文件能正常播放
```

---

### 测试用例 3.3：掌握度管理（核心功能）

**前置条件**: 单词详情页

**测试步骤**:
1. 找到"释义与掌握度"区域
2. 依次点击四个标签：生词、学习中、熟悉、掌握

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 标签显示 | 四个标签都显示，颜色正确 | | ☐ |
| 2 | 标签颜色 | 生词(红)、学习中(黄)、熟悉(绿)、掌握(蓝) | | ☐ |
| 3 | 点击切换 | 点击后切换到新标签 | | ☐ |
| 4 | API 调用 | 切换后调用 API 更新标签 | | ☐ |
| 5 | 成功提示 | 显示"标签已更新"提示 | | ☐ |
| 6 | 生词本同步 | 生词本中该单词标签已更新 | | ☐ |

**颜色验证**:
```css
生词: #FF6B6B (红色)
学习中: #FFD93D (黄色)
熟悉: #6BCB77 (绿色)
掌握: #4D96FF (蓝色)
```

**技术验证**（Network 标签）:
```
观察请求:
POST https://word-service.zeabur.app/word/user-words
Request Headers:
  Authorization: Bearer {token}
Request Body:
{
  "word_id": 123,
  "tag_id": 1  // 1=生词, 2=学习中, 3=熟悉, 4=掌握
}

验证:
- Status: 200 OK
- Response: {"message": "添加成功"}
```

---

### 测试用例 3.4：添加到生词本

**前置条件**: 单词详情页，单词未在生词本中

**测试步骤**:
1. 点击"添加到生词本"按钮
2. 选择标签
3. 确认添加

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 按钮显示 | 显示"添加到生词本"按钮 | | ☐ |
| 2 | 标签选择 | 点击后显示标签下拉菜单 | | ☐ |
| 3 | 添加成功 | 显示"添加成功"提示 | | ☐ |
| 4 | 按钮状态 | 按钮变为"已在生词本" | | ☐ |
| 5 | 生词本验证 | 打开生词本能看到该单词 | | ☐ |

---

### 测试用例 3.5：上下文学习

**前置条件**: 单词详情页

**测试步骤**:
1. 滚动到页面底部
2. 查看"真实例句"区域
3. 查看"学习足迹"区域（如果有）

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 例句显示 | 显示包含该单词的英文例句 | | ☐ |
| 2 | 例句翻译 | 显示对应的中文翻译 | | ☐ |
| 3 | 例句数量 | 至少显示 1 个例句 | | ☐ |
| 4 | 学习足迹 | 显示添加时间、复习次数等 | | ☐ |

---

## 阶段四：生词本管理测试

### 测试用例 4.1：生词本列表展示

**前置条件**: 用户已登录，已添加至少 5 个生词

**测试步骤**:
1. 点击底部导航栏"单词本"
2. 进入生词本页面

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 列表显示 | 显示所有已添加的单词 | | ☐ |
| 2 | 单词卡片 | 每个单词显示为一个卡片 | | ☐ |
| 3 | 卡片内容 | 显示英文、中文、标签 | | ☐ |
| 4 | 标签颜色 | 标签颜色正确显示 | | ☐ |
| 5 | 排序 | 按添加时间倒序排列 | | ☐ |

---

### 测试用例 4.2：标签筛选

**前置条件**: 生词本页面

**测试步骤**:
1. 点击顶部的"生词"标签
2. 点击"学习中"标签
3. 点击"熟悉"标签
4. 点击"掌握"标签
5. 点击"全部"标签

**验证点**:

| # | 筛选条件 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 全部 | 显示所有单词 | | ☐ |
| 2 | 生词 | 只显示红色标签的单词 | | ☐ |
| 3 | 学习中 | 只显示黄色标签的单词 | | ☐ |
| 4 | 熟悉 | 只显示绿色标签的单词 | | ☐ |
| 5 | 掌握 | 只显示蓝色标签的单词 | | ☐ |
| 6 | 切换动画 | 切换时有平滑动画 | | ☐ |

**技术验证**（Network 标签）:
```
观察请求:
GET https://word-service.zeabur.app/word/my-words?tag_id=1&page=1&size=20

验证:
- tag_id=0: 全部
- tag_id=1: 生词
- tag_id=2: 学习中
- tag_id=3: 熟悉
- tag_id=4: 掌握
```

---

### 测试用例 4.3：搜索功能

**前置条件**: 生词本页面

**测试步骤**:
1. 在搜索框输入一个已知的单词（如"laptop"）
2. 点击搜索按钮
3. 清空搜索框
4. 点击搜索按钮

**验证点**:

| # | 测试场景 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 精确搜索 | 输入"laptop"显示该单词 | | ☐ |
| 2 | 模糊搜索 | 输入"lap"显示包含"lap"的单词 | | ☐ |
| 3 | 大小写 | 输入"Laptop"也能搜到"laptop" | | ☐ |
| 4 | 无结果 | 输入"xyz"显示"无结果" | | ☐ |
| 5 | 清空搜索 | 清空后显示完整列表 | | ☐ |
| 6 | 搜索历史 | 显示搜索历史（可选） | | ☐ |

---

### 测试用例 4.4：分页加载

**前置条件**: 生词本中有超过 20 个单词

**测试步骤**:
1. 滚动到列表底部
2. 点击"加载更多"按钮
3. 继续滚动

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 加载更多 | 滚动到底部显示"加载更多" | | ☐ |
| 2 | 加载动画 | 点击后显示 Loading 动画 | | ☐ |
| 3 | 数据追加 | 新数据追加到列表末尾 | | ☐ |
| 4 | 没有更多 | 最后一页显示"没有更多了" | | ☐ |
| 5 | 页码更新 | URL 参数 page 递增 | | ☐ |

**技术验证**（Network 标签）:
```
观察请求:
第1次: GET /word/my-words?page=1&size=20
第2次: GET /word/my-words?page=2&size=20
第3次: GET /word/my-words?page=3&size=20

验证:
- page 参数正确递增
- 每次返回 20 个单词（最后一批可能少于 20）
```

---

### 测试用例 4.5：下拉刷新

**前置条件**: 生词本页面

**测试步骤**:
1. 在列表顶部向下拉动
2. 释放刷新

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 刷新指示器 | 下拉显示刷新图标 | | ☐ |
| 2 | 刷新动画 | 释放后显示旋转动画 | | ☐ |
| 3 | 数据更新 | 刷新后显示最新数据 | | ☐ |
| 4 | 重置页码 | 刷新后 page 重置为 1 | | ☐ |

---

### 测试用例 4.6：点击单词跳转

**前置条件**: 生词本页面

**测试步骤**:
1. 点击任意单词卡片
2. 进入单词详情页

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 页面跳转 | 跳转到单词详情页 | | ☐ |
| 2 | URL 参数 | URL 包含单词 ID 或单词名 | | ☐ |
| 3 | 数据加载 | 详情页正确加载单词数据 | | ☐ |
| 4 | 返回功能 | 点击返回按钮回到生词本 | | ☐ |

---

## 阶段五：AI 强化练习测试

### 测试用例 5.1：生成练习题

**前置条件**: 用户已登录，生词本中有单词

**测试步骤**:
1. 从首页或详情页点击"开启专项练习"
2. 进入练习设置页
3. 选择练习模式（选择题）
4. 选择要练习的单词（多选）
5. 点击"生成题目"按钮

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 模式选择 | 显示选择题/填空题选项 | | ☐ |
| 2 | 单词选择 | 显示生词本中的单词列表 | | ☐ |
| 3 | 多选功能 | 可以选择多个单词 | | ☐ |
| 4 | 生成按钮 | 点击后显示"AI 正在生成题目" | | ☐ |
| 5 | 加载动画 | 显示 Loading 动画 | | ☐ |

---

### 测试用例 5.2：选择题答题

**前置条件**: 练习题已生成

**测试步骤**:
1. 进入答题页面
2. 阅读题目和选项
3. 选择一个答案
4. 点击"下一题"或"提交"

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 题目显示 | 显示单词和 4 个选项 | | ☐ |
| 2 | 进度条 | 显示"第 1/5 题" | | ☐ |
| 3 | 选项样式 | 未选择时显示默认样式 | | ☐ |
| 4 | 选择反馈 | 选择后立即显示对错 | | ☐ |
| 5 | 正确答案 | 正确选项变绿 | | ☐ |
| 6 | 错误答案 | 错误选项变红 | | ☐ |
| 7 | 自动跳转 | 延迟 1-2 秒后自动跳下一题 | | ☐ |

---

### 测试用例 5.3：填空题答题

**前置条件**: 选择填空题模式

**测试步骤**:
1. 显示单词和部分缺失的句子
2. 在输入框填入答案
3. 点击提交

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 题目显示 | 显示填空题 | | ☐ |
| 2 | 输入框 | 显示文本输入框 | | ☐ |
| 3 | 提交按钮 | 显示"提交"按钮 | | ☐ |
| 4 | 答案验证 | 提交后显示正确答案 | | ☐ |
| 5 | 忽略大小写 | 输入"Laptop"和"laptop"都算对 | | ☐ |

---

### 测试用例 5.4：结果统计

**前置条件**: 完成所有题目

**测试步骤**:
1. 回答完最后一题
2. 自动跳转到结果页

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 最终得分 | 显示总分（如：80 分） | | ☐ |
| 2 | 正确率 | 显示正确率（如：4/5） | | ☐ |
| 3 | 错题回顾 | 列出所有错题 | | ☐ |
| 4 | 再练一次 | 显示"再练一次"按钮 | | ☐ |
| 5 | 返回首页 | 点击"返回首页"按钮回到首页 | | ☐ |
| 6 | 数据保存 | 练习记录保存到数据库 | | ☐ |

**技术验证**（Network 标签）:
```
观察请求:
POST https://practice-service.zeabur.app/practice/submit
Request Body:
{
  "practice_id": 123,
  "answers": [0, 1, 2, 1, 0]  // 选择的答案索引
}

验证:
- Status: 200 OK
- Response: {"score": 80, "correct": 4, "total": 5}
```

---

## 阶段六：个人中心与统计测试

### 测试用例 6.1：数据统计展示

**前置条件**: 用户已登录并有学习记录

**测试步骤**:
1. 点击底部导航栏"我的"
2. 进入个人中心页

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 用户头像/图标 | 显示用户头像或默认图标 | | ☐ |
| 2 | 用户名 | 显示用户名（如：admin） | | ☐ |
| 3 | 邮箱 | 显示邮箱地址 | | ☐ |
| 4 | 累计单词 | 显示收录的单词总数 | | ☐ |
| 5 | 今日学习 | 显示今日学习的单词数 | | ☐ |
| 6 | 连续打卡 | 显示连续学习天数 | | ☐ |
| 7 | 学习时长 | 显示总学习时长（小时） | | ☐ |

**数据准确性验证**:
```
验证统计数据是否与实际操作相符：
1. 累计单词数 = 生词本中的单词总数
2. 今日学习 = 今天添加的单词数 + 今天复习的单词数
3. 连续打卡 = 根据学习记录计算
```

---

### 测试用例 6.2：学习进度图表（可选）

**前置条件**: 个人中心页

**测试步骤**:
1. 查看学习进度图表
2. 切换不同时间范围（本周/本月）

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 图表显示 | 显示学习曲线图 | | ☐ |
| 2 | 数据点 | 每天显示学习单词数 | | ☐ |
| 3 | 切换范围 | 点击本周/本月切换数据 | | ☐ |
| 4 | 图表动画 | 加载时显示动画 | | ☐ |

---

### 测试用例 6.3：设置功能（可选）

**前置条件**: 个人中心页

**测试步骤**:
1. 点击"设置"按钮
2. 进入设置页

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 设置项列表 | 显示各项设置选项 | | ☐ |
| 2 | 语言设置 | 可以选择界面语言 | | ☐ |
| 3 | 音效设置 | 可以开关音效 | | ☐ |
| 4 | 通知设置 | 可以设置学习提醒 | | ☐ |
| 5 | 关于页面 | 显示应用版本信息 | | ☐ |

---

### 测试用例 6.4：退出登录

**前置条件**: 个人中心页

**测试步骤**:
1. 滚动到底部
2. 点击"退出登录"按钮
3. 确认退出

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 确认对话框 | 显示"确定要退出登录吗？" | | ☐ |
| 2 | 取消按钮 | 点击取消不退出 | | ☐ |
| 3 | 确认退出 | 点击确认后清除 Token | | ☐ |
| 4 | 跳转登录 | 退出后跳转到登录页 | | ☐ |
| 5 | 清空数据 | localStorage 被清空 | | ☐ |

---

## 弱网场景测试

### 测试用例 7.1：3G 网络下的图片上传

**前置条件**: DevTools 开启 3G 限制

**测试步骤**:
1. 打开 Chrome DevTools → Network → Throttling
2. 选择"Fast 3G"
3. 上传一张图片

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 进度条显示 | 进度条缓慢增长 | | ☐ |
| 2 | 超时处理 | 超过 30 秒显示超时错误 | | ☐ |
| 3 | 重试功能 | 显示"重试"按钮 | | ☐ |
| 4 | 用户提示 | 显示"网络较慢，请耐心等待" | | ☐ |

---

### 测试用例 7.2：网络断开

**前置条件**: DevTools 开启 Offline 模式

**测试步骤**:
1. 打开 DevTools → Network → 勾选"Offline"
2. 尝试上传图片
3. 尝试添加生词

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 错误提示 | 显示"网络连接失败" | | ☐ |
| 2 | 不崩溃 | 应用不会崩溃或卡死 | | ☐ |
| 3 | 重试功能 | 显示"重试"按钮 | | ☐ |
| 4 | 恢复后 | 网络恢复后功能正常 | | ☐ |

---

## 性能测试

### 测试用例 8.1：首屏加载时间

**测试步骤**:
1. 清除缓存
2. 刷新页面
3. 使用 Lighthouse 测量

**验证点**:

| # | 指标 | 预期值 | 实际值 | 状态 |
|---|--------|--------|--------|------|
| 1 | FCP | < 2 秒 | | ☐ |
| 2 | LCP | < 2.5 秒 | | ☐ |
| 3 | TTI | < 3 秒 | | ☐ |

---

### 测试用例 8.2：图片压缩

**测试步骤**:
1. 选择一张 5MB 的图片
2. 上传前检查图片大小

**验证点**:

| # | 验证项 | 预期结果 | 实际结果 | 状态 |
|---|--------|----------|----------|------|
| 1 | 自动压缩 | 图片被压缩到 < 2MB | | ☐ |
| 2 | 质量保持 | 压缩后图片质量可接受 | | ☐ |
| 3 | 格式转换 | 转换为 JPEG/WebP | | ☐ |

---

## 测试总结模板

```markdown
# 测试总结报告

## 测试环境
- 测试日期: YYYY-MM-DD
- 测试人员: XXX
- 测试设备: iPhone 14 Pro / Chrome DevTools
- 网络环境: WiFi

## 测试结果统计
- 总测试用例: 50
- 通过: 45
- 失败: 3
- 阻塞: 2
- 通过率: 90%

## 各模块测试结果

### 阶段一：身份验证与持久化
- 通过: 5/5
- 失败: 0
- 问题: 无

### 阶段二：核心识物流程
- 通过: 6/6
- 失败: 0
- 问题: 无

### 阶段三：单词深度学习
- 通过: 4/5
- 失败: 1
- 问题: 英式发音无法播放

### 阶段四：生词本管理
- 通过: 5/6
- 失败: 1
- 问题: 搜索功能不工作

### 阶段五：AI 强化练习
- 通过: 4/4
- 失败: 0
- 问题: 无

### 阶段六：个人中心与统计
- 通过: 3/4
- 失败: 1
- 问题: 学习统计数据不准确

## 发现的问题

### 严重问题（P0）
1. [问题描述]
   - 复现步骤:
   - 影响:
   - 建议修复:

### 一般问题（P1）
1. [问题描述]
   - 复现步骤:
   - 影响:
   - 建议修复:

### 优化建议（P2）
1. [建议描述]
   - 当前状态:
   - 优化方案:

## 测试结论
[总体评价和发布建议]
```

---

## 快速测试检查清单

### 烟雾测试（Smoke Test）- 5 分钟快速验证

- [ ] 能登录（admin / admin123）
- [ ] 能拍照识别物体
- [ ] 能查看单词详情
- [ ] 能添加生词
- [ ] 能打开生词本
- [ ] 能退出登录

**如果以上全部通过，应用基本可用。**
